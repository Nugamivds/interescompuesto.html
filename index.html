<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Inversi√≥n Gold - App Final</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #d4af37; --gold-light: #f7ef8a; --dark: #0a0a0a; }
        body { 
            margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif; 
            background: url('https://c1.wallpaperflare.com/preview/489/364/872/dollars-money-us-dollars-cash.jpg') no-repeat center center fixed;
            background-size: cover; color: white; min-height: 100vh;
        }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: -1; }
        .container { max-width: 1200px; margin: auto; display: grid; grid-template-columns: 380px 1fr; gap: 20px; }
        .panel { background: rgba(15, 15, 15, 0.95); padding: 20px; border-radius: 20px; border: 2px solid var(--gold); box-shadow: 0 0 30px rgba(212, 175, 55, 0.2); backdrop-filter: blur(10px); }
        h2 { color: var(--gold); text-align: center; text-transform: uppercase; font-size: 18px; border-bottom: 1px solid var(--gold); padding-bottom: 10px; }
        label { display: block; font-size: 11px; font-weight: bold; color: var(--gold); margin-bottom: 5px; }
        input { width: 100%; padding: 10px; background: #111; border: 1px solid var(--gold); border-radius: 8px; color: #ffd700; font-size: 16px; margin-bottom: 12px; box-sizing: border-box; }
        
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .btn-sm { background: linear-gradient(45deg, #b8860b, var(--gold)); border: none; padding: 8px; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 12px; }
        
        .card-info { background: #000; border: 1px solid var(--gold); padding: 15px; border-radius: 12px; text-align: center; margin-bottom: 15px; }
        .card-info div { font-size: 28px; font-weight: bold; color: #ffd700; }
        
        .printer-box { background: rgba(212, 175, 55, 0.1); border: 1px dashed var(--gold); padding: 15px; border-radius: 10px; margin-top: 10px; }
    </style>
</head>
<body>
<div class="overlay"></div>
<div class="container">
    <div class="panel">
        <h2>üí∞ MOVIMIENTOS</h2>
        <label>INYECTAR CAPITAL R√ÅPIDO</label>
        <div class="btn-grid">
            <button class="btn-sm" onclick="inyectar(1000)">+$1.000</button>
            <button class="btn-sm" onclick="inyectar(3000)">+$3.000</button>
            <button class="btn-sm" onclick="inyectar(10000)">+$10.000</button>
        </div>

        <label>CAPITAL ACTUAL ($)</label>
        <input type="number" id="cap" oninput="actualizar()">
        <label>APORTE MENSUAL ($)</label>
        <input type="number" id="apo" oninput="actualizar()">
        <label>TASA ANUAL (TNA %)</label>
        <input type="number" id="tna" oninput="actualizar()">
        <label>PLAZO (A√ëOS)</label>
        <input type="number" id="yrs" oninput="actualizar()">

        <div class="card-info">
            <small style="color:var(--gold)">GANANCIA DIARIA</small>
            <div id="rentaDiaria">$ 0</div>
        </div>

        <div class="printer-box">
            <h3 style="color:var(--gold); font-size: 14px; margin:0 0 10px 0;">üñ®Ô∏è GASTO IMPRESORA</h3>
            <label>PRECIO x kWh ($)</label>
            <input type="number" id="precioKwh" value="50" oninput="actualizar()">
            <small>C√°lculo basado en 105 kWh/mes</small>
            <div id="gastoImpresora" style="color:#ffd700; font-weight:bold; margin-top:5px;">$ 0 / mes</div>
        </div>
    </div>

    <div class="panel">
        <h2>üìà PROYECCI√ìN CON INTER√âS COMPUESTO</h2>
        <div style="height: 350px;"><canvas id="miGrafico"></canvas></div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; text-align: center;">
            <div class="card-info"><small>MONTO FINAL</small><div id="resTotal" style="font-size:20px;"></div></div>
            <div class="card-info"><small>GANANCIA NETA</small><div id="resInt" style="font-size:20px;"></div></div>
        </div>
    </div>
</div>

<script>
    let grafico;
    const KWH_MES = 105; // Tu configuraci√≥n guardada

    window.onload = () => {
        document.getElementById('cap').value = localStorage.getItem('cap') || 100000;
        document.getElementById('apo').value = localStorage.getItem('apo') || 10000;
        document.getElementById('tna').value = localStorage.getItem('tna') || 45;
        document.getElementById('yrs').value = localStorage.getItem('yrs') || 5;
        document.getElementById('precioKwh').value = localStorage.getItem('precioKwh') || 60;
        actualizar();
    };

    function inyectar(monto) {
        let actual = parseFloat(document.getElementById('cap').value) || 0;
        document.getElementById('cap').value = actual + monto;
        actualizar();
    }

    function actualizar() {
        const cap = parseFloat(document.getElementById('cap').value) || 0;
        const apo = parseFloat(document.getElementById('apo').value) || 0;
        const tna = parseFloat(document.getElementById('tna').value) || 0;
        const yrs = parseFloat(document.getElementById('yrs').value) || 0;
        const pKwh = parseFloat(document.getElementById('precioKwh').value) || 0;

        localStorage.setItem('cap', cap);
        localStorage.setItem('apo', apo);
        localStorage.setItem('tna', tna);
        localStorage.setItem('yrs', yrs);
        localStorage.setItem('precioKwh', pKwh);

        // C√°lculo Impresora
        const costoImpresora = KWH_MES * pKwh;
        document.getElementById('gastoImpresora').innerText = costoImpresora.toLocaleString('es-AR', {style:'currency', currency:'ARS'}) + " / mes";

        const tMensual = (tna / 100) / 12;
        const tDiaria = (tna / 100) / 365;
        const meses = Math.floor(yrs * 12);

        document.getElementById('rentaDiaria').innerText = (cap * tDiaria).toLocaleString('es-AR', {style:'currency', currency:'ARS'});

        let labels = [], dataTotal = [], saldo = cap, invertido = cap;
        for (let i = 0; i <= meses; i++) {
            if (i > 0) { 
                saldo += apo; 
                invertido += apo; 
                saldo += (saldo * tMensual); // Inter√©s Compuesto
            }
            labels.push("M" + i);
            dataTotal.push(saldo);
        }

        document.getElementById('resTotal').innerText = saldo.toLocaleString('es-AR', {style:'currency', currency:'ARS'});
        document.getElementById('resInt').innerText = (saldo - invertido).toLocaleString('es-AR', {style:'currency', currency:'ARS'});
        render(labels, dataTotal);
    }

    function render(labels, data) {
        const ctx = document.getElementById('miGrafico').getContext('2d');
        if (grafico) grafico.destroy();
        grafico = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{ label: 'Capital', data: data, borderColor: '#d4af37', backgroundColor: 'rgba(212, 175, 55, 0.1)', fill: true, tension: 0.3 }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { ticks: { color: '#d4af37' } }, y: { ticks: { color: '#d4af37' } } } }
        });
    }
</script>
</body>
</html>
